<!DOCTYPE html>
<html>
<head>
    <title>API Test</title>
</head>
<body>
    <h1>API Test</h1>
    <pre id="output">Loading...</pre>
    
    <script>
        const SITE_ID = '3d6c918d-5c39-47e9-8109-be79b2e8c302';
        const API_URL = '/api-proxy';
        const LOCALE = 'en-US';
        
        async function testAPI() {
            const output = document.getElementById('output');
            let log = '';
            
            function print(msg) {
                log += msg + '\n';
                output.textContent = log;
                console.log(msg);
            }
            
            print('=== TESTE DA API ===\n');
            print('API URL: ' + API_URL);
            print('Site ID: ' + SITE_ID);
            print('');
            
            // Test 1: Fetch articles
            const url1 = API_URL + '/api/headless/sites-by-id/' + SITE_ID + '?limit=10&offset=0&locale=' + LOCALE;
            print('üåê URL: ' + url1);
            print('');
            
            try {
                print('‚è≥ Fazendo requisi√ß√£o...');
                const response = await fetch(url1);
                print('üìä Status: ' + response.status);
                print('üìÑ Content-Type: ' + response.headers.get('content-type'));
                print('');
                
                if (response.ok) {
                    const data = await response.json();
                    print('‚úÖ API funcionando!');
                    print('');
                    print('üì¶ Response:');
                    print(JSON.stringify(data, null, 2));
                } else {
                    print('‚ùå Erro na API: ' + response.status);
                }
            } catch (error) {
                print('‚ùå Erro: ' + error.message);
            }
            
            print('');
            print('=== FIM DO TESTE ===');
        }
        
        testAPI();
    </script>
</body>
</html>
